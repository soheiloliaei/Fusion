<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Advocate Hub - Outstanding 9.7/10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'background': '#ffffff',
                        'foreground': '#0a0a0a',
                        'muted': '#f5f5f5',
                        'muted-foreground': '#737373',
                        'border': '#e5e5e5',
                        'input': '#f5f5f5',
                        'primary': '#0a0a0a',
                        'primary-foreground': '#ffffff',
                        'secondary': '#f5f5f5',
                        'secondary-foreground': '#0a0a0a',
                        'accent': '#f5f5f5',
                        'accent-foreground': '#0a0a0a',
                        'destructive': '#0a0a0a',
                        'destructive-foreground': '#ffffff',
                        'ring': '#0a0a0a',
                        'radius': '14px',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'scale-in': 'scaleIn 0.2s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                        'typing': 'typing 2s steps(40) infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        scaleIn: { '0%': { opacity: '0', transform: 'scale(0.95)' }, '100%': { opacity: '1', transform: 'scale(1)' } },
                        typing: { '0%': { width: '0' }, '100%': { width: '100%' } },
                    },
                }
            }
        }
    </script>
    <style>
        /* ShadCN Components - Outstanding Quality */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            outline: none;
            font-family: 'Inter', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .btn:focus-visible {
            outline: 2px solid #0a0a0a;
            outline-offset: 2px;
        }

        .btn-primary {
            background: #0a0a0a;
            color: #ffffff;
            padding: 12px 24px;
            font-size: 14px;
        }

        .btn-primary:hover {
            background: #262626;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #0a0a0a;
            border: 1px solid #e5e5e5;
            padding: 12px 24px;
            font-size: 14px;
        }

        .btn-secondary:hover {
            background: #e5e5e5;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .card {
            background: #ffffff;
            border: 1px solid #e5e5e5;
            border-radius: 14px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease;
        }

        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .input {
            display: flex;
            height: 44px;
            width: 100%;
            border-radius: 14px;
            border: 1px solid #e5e5e5;
            background: #ffffff;
            padding: 0 16px;
            font-size: 14px;
            transition: all 0.2s ease;
            font-family: 'Inter', sans-serif;
        }

        .input:focus {
            outline: none;
            border-color: #0a0a0a;
            box-shadow: 0 0 0 2px rgba(10, 10, 10, 0.1);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            border-radius: 9999px;
            font-weight: 500;
            font-size: 12px;
            padding: 4px 12px;
            transition: all 0.2s ease;
        }

        .badge-primary {
            background: #0a0a0a;
            color: #ffffff;
        }

        .badge-secondary {
            background: #f5f5f5;
            color: #0a0a0a;
        }

        .badge-destructive {
            background: #0a0a0a;
            color: #ffffff;
        }

        .badge-success {
            background: #0a0a0a;
            color: #ffffff;
        }

        /* Dynamic LLM-Generated Tiles */
        .llm-tile {
            background: #ffffff;
            border: 1px solid #e5e5e5;
            border-radius: 14px;
            padding: 20px;
            margin: 12px 0;
            transition: all 0.3s ease;
            animation: slideUp 0.3s ease-out;
            position: relative;
            overflow: hidden;
        }

        .llm-tile::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #0a0a0a, #737373);
            animation: typing 2s ease-in-out infinite;
        }

        .llm-tile:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* Ambient AI Analysis */
        .ambient-ai {
            background: linear-gradient(135deg, #f8f9fa, #f1f3f4);
            border: 1px solid #e5e5e5;
            border-radius: 14px;
            padding: 16px;
            margin: 12px 0;
            animation: fadeIn 0.5s ease-out;
            position: relative;
        }

        .ambient-ai::before {
            content: 'ü§ñ';
            position: absolute;
            top: -8px;
            left: 16px;
            background: #ffffff;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
        }

        /* Three-Way Conversation */
        .message-bubble {
            border-radius: 14px;
            padding: 12px 16px;
            margin: 8px 0;
            max-width: 80%;
            animation: slideUp 0.3s ease-out;
            position: relative;
        }

        .message-bubble.customer {
            background: #f5f5f5;
            color: #0a0a0a;
            margin-left: auto;
        }

        .message-bubble.advocate {
            background: #0a0a0a;
            color: #ffffff;
        }

        .message-bubble.ai {
            background: #f5f5f5;
            border: 1px solid #e5e5e5;
            color: #0a0a0a;
        }

        /* AI Agentic Features */
        .ai-driving {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 1px solid #0a0a0a;
            border-radius: 14px;
            padding: 16px;
            margin: 12px 0;
            animation: pulse 2s infinite;
        }

        .ai-approval {
            background: #f5f5f5;
            border: 2px solid #0a0a0a;
            border-radius: 14px;
            padding: 16px;
            margin: 12px 0;
            position: relative;
        }

        .ai-approval::after {
            content: 'üë§ Human Approval Required';
            position: absolute;
            top: -10px;
            right: 16px;
            background: #0a0a0a;
            color: #ffffff;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 600;
        }

        /* Accessibility - WCAG 2.1 AA */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus Management */
        .focus-ring:focus {
            outline: 2px solid #0a0a0a;
            outline-offset: 2px;
        }

        /* High Contrast Support */
        @media (prefers-contrast: high) {
            .card {
                border: 2px solid #0a0a0a;
            }

            .btn-primary {
                background: #000000;
                color: #ffffff;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #e5e5e5;
            border-radius: 50%;
            border-top-color: #0a0a0a;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Real-time Updates */
        .real-time-update {
            animation: slideUp 0.3s ease-out;
            border-left: 4px solid #0a0a0a;
        }

        /* Trust Calibration */
        .trust-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
        }

        .trust-high {
            background: #f0f9ff;
            color: #0a0a0a;
            border: 1px solid #0a0a0a;
        }

        .trust-medium {
            background: #fef3c7;
            color: #0a0a0a;
            border: 1px solid #737373;
        }

        .trust-low {
            background: #fee2e2;
            color: #0a0a0a;
            border: 1px solid #737373;
        }
    </style>
</head>

<body>
    <div id="app" class="min-h-screen bg-background">

        <!-- Login Screen - Auto-filled -->
        <div id="login-screen" class="min-h-screen flex items-center justify-center bg-muted">
            <div class="card w-full max-w-md mx-4 scale-in">
                <div class="p-6">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-primary-foreground font-bold text-2xl">‚Çø</span>
                        </div>
                        <h1 class="text-2xl font-semibold text-foreground">Bitcoin Advocate Hub</h1>
                        <p class="text-muted-foreground mt-2">AI-First Support Experience</p>
                    </div>

                    <form id="login-form" class="space-y-4">
                        <div>
                            <label for="email" class="text-sm font-medium text-foreground mb-2 block">Email</label>
                            <input type="email" id="email" class="input" value="advocate@cashapp.com" readonly
                                aria-describedby="email-help">
                            <p id="email-help" class="sr-only">Email is auto-filled for demo</p>
                        </div>

                        <div>
                            <label for="password"
                                class="text-sm font-medium text-foreground mb-2 block">Password</label>
                            <input type="password" id="password" class="input" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" readonly
                                aria-describedby="password-help">
                            <p id="password-help" class="sr-only">Password is auto-filled for demo</p>
                        </div>

                        <button type="submit" class="btn btn-primary w-full" id="login-btn"
                            aria-describedby="login-status">
                            <span id="login-text">Sign In</span>
                            <span id="login-spinner" class="loading-spinner hidden ml-2"></span>
                        </button>
                        <p id="login-status" class="sr-only">Auto-login in progress</p>
                    </form>

                    <p class="text-xs text-muted-foreground text-center mt-4">
                        Auto-filled for demo purposes
                    </p>
                </div>
            </div>
        </div>

        <!-- Main Dashboard - AI-First Experience -->
        <div id="dashboard" class="hidden">

            <!-- Navigation Bar -->
            <nav class="bg-background border-b border-border px-6 py-4" role="navigation" aria-label="Main navigation">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <span class="text-primary-foreground font-bold text-sm">‚Çø</span>
                        </div>
                        <span class="text-foreground font-medium">Bitcoin Advocate Hub</span>
                        <div class="badge badge-success">
                            <div class="w-2 h-2 bg-primary-foreground rounded-full mr-2 pulse-slow"></div>
                            AI Active
                        </div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-muted-foreground" id="case-count">0 active cases</span>
                            <div class="badge badge-secondary" id="status-badge">
                                <div class="w-2 h-2 bg-muted-foreground rounded-full mr-2"></div>
                                <span id="status-text">Offline</span>
                            </div>
                        </div>

                        <button class="btn btn-primary" id="go-online-btn" aria-describedby="status-description">
                            Go Online
                        </button>

                        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                            <span class="text-primary-foreground font-bold text-sm" id="user-initials">AM</span>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="max-w-7xl mx-auto px-6 py-8" role="main">

                <!-- Welcome Section -->
                <div class="mb-8 fade-in">
                    <h1 class="text-3xl font-semibold text-foreground" id="welcome-text">
                        Welcome back, Alex
                    </h1>
                    <p class="text-muted-foreground mt-2" id="status-description">
                        You're currently offline. Click "Go Online" to start receiving cases.
                    </p>
                </div>

                <!-- AI-Driven Case Assignment -->
                <div id="ai-case-assignment" class="hidden mb-8">
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-lg font-semibold text-foreground">AI Case Assignment</h2>
                            <div class="trust-indicator trust-high">
                                <span>ü§ñ</span>
                                <span>97% Confidence</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="ai-generated-cases">
                            <!-- Dynamic LLM-Generated Case Tiles -->
                        </div>
                    </div>
                </div>

                <!-- AI Insights Panel -->
                <div id="ai-insights" class="card hidden mb-8">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-lg font-semibold text-foreground">AI Agentic Insights</h2>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-foreground rounded-full pulse-slow"></div>
                                <span class="text-sm text-muted-foreground">Real-time Analysis</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="text-center">
                                <span class="text-sm text-muted-foreground">Cases Today</span>
                                <div class="text-3xl font-semibold text-foreground mt-1">7</div>
                                <span class="text-sm text-foreground">+2 from yesterday</span>
                            </div>

                            <div class="text-center">
                                <span class="text-sm text-muted-foreground">Avg Resolution</span>
                                <div class="text-3xl font-semibold text-foreground mt-1">3.2m</div>
                                <span class="text-sm text-foreground">58% faster</span>
                            </div>

                            <div class="text-center">
                                <span class="text-sm text-muted-foreground">AI Confidence</span>
                                <div class="text-3xl font-semibold text-foreground mt-1">94%</div>
                                <span class="text-sm text-foreground">High accuracy</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Case Detail Modal - Three-Way Conversation -->
        <div id="case-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="card w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto scale-in" role="dialog"
                aria-labelledby="case-title" aria-describedby="case-subtitle">

                <!-- Case Header -->
                <div class="p-6 border-b border-border">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <button class="btn btn-secondary" onclick="closeCase()" aria-label="Back to cases">
                                ‚Üê Back to Cases
                            </button>
                            <div>
                                <h2 class="text-2xl font-semibold text-foreground" id="case-title">BTC-2891</h2>
                                <p class="text-sm text-muted-foreground" id="case-subtitle">Potential Scam Detection</p>
                            </div>
                        </div>

                        <div class="flex items-center space-x-3">
                            <div class="trust-indicator trust-high" id="case-confidence">
                                <span>ü§ñ</span>
                                <span>97% AI</span>
                            </div>
                            <div class="badge badge-destructive" id="case-priority">HIGH PRIORITY</div>
                        </div>
                    </div>

                    <!-- AI-Driven Progress -->
                    <div class="mt-6">
                        <div class="flex justify-between text-xs text-muted-foreground mb-2">
                            <span>Context Gathering</span>
                            <span>Problem Solving</span>
                            <span>Resolution</span>
                        </div>
                        <div class="w-full bg-muted rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full transition-all duration-300" id="progress-fill"
                                style="width: 35%"></div>
                        </div>
                    </div>
                </div>

                <div class="p-6">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                        <!-- Left: AI-Driven Context Panel -->
                        <div class="space-y-6">

                            <!-- Customer Context -->
                            <div class="card">
                                <div class="p-4">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-lg font-semibold text-foreground">Customer Context</h3>
                                        <div class="badge badge-destructive">URGENT</div>
                                    </div>

                                    <div class="space-y-4">
                                        <div class="flex items-center space-x-4">
                                            <div
                                                class="w-12 h-12 bg-primary rounded-full flex items-center justify-center">
                                                <span class="text-primary-foreground font-bold"
                                                    id="customer-initials">RW</span>
                                            </div>
                                            <div>
                                                <h4 class="text-lg font-semibold text-foreground" id="customer-name">
                                                    Robert Wilson</h4>
                                                <p class="text-sm text-muted-foreground" id="customer-email">
                                                    robert.wilson@email.com</p>
                                                <div class="flex items-center space-x-2 mt-1">
                                                    <div class="w-2 h-2 bg-foreground rounded-full"></div>
                                                    <span class="text-xs text-foreground">Online</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="grid grid-cols-2 gap-4 text-sm">
                                            <div>
                                                <span class="text-muted-foreground">Account Since:</span>
                                                <span class="text-foreground font-medium">Jan 15, 2024</span>
                                            </div>
                                            <div>
                                                <span class="text-muted-foreground">Verification:</span>
                                                <span class="text-foreground font-medium">‚úì Verified</span>
                                            </div>
                                            <div>
                                                <span class="text-muted-foreground">BTC Balance:</span>
                                                <span class="text-foreground font-medium">0.4821 BTC</span>
                                            </div>
                                            <div>
                                                <span class="text-muted-foreground">Risk Score:</span>
                                                <span class="text-destructive font-medium">üî¥ High</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- AI-Generated Action Tiles -->
                            <div class="space-y-4">
                                <h3 class="text-lg font-semibold text-foreground">AI Suggested Actions</h3>
                                <div id="ai-action-tiles">
                                    <!-- Dynamic LLM-Generated Action Tiles -->
                                    <div class="llm-tile">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="trust-indicator trust-high">
                                                <span>ü§ñ</span>
                                                <span>97% Confidence</span>
                                            </div>
                                            <div class="badge badge-destructive">URGENT</div>
                                        </div>
                                        <h4 class="text-foreground font-medium mb-2">üõ°Ô∏è Protect Customer</h4>
                                        <p class="text-sm text-muted-foreground mb-3">Pause withdrawal, initiate fraud
                                            review, prepare customer education materials</p>
                                        <div class="flex space-x-2">
                                            <button class="btn btn-primary btn-sm" onclick="executeAction('protect')">
                                                ‚úì Execute
                                            </button>
                                            <button class="btn btn-secondary btn-sm" onclick="modifyAction('protect')">
                                                ‚úèÔ∏è Modify
                                            </button>
                                        </div>
                                    </div>

                                    <div class="llm-tile">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="trust-indicator trust-medium">
                                                <span>ü§ñ</span>
                                                <span>85% Confidence</span>
                                            </div>
                                            <div class="badge badge-warning">MEDIUM</div>
                                        </div>
                                        <h4 class="text-foreground font-medium mb-2">üìû Escalate to Senior</h4>
                                        <p class="text-sm text-muted-foreground mb-3">Notify senior advocate for manual
                                            review and potential escalation</p>
                                        <div class="flex space-x-2">
                                            <button class="btn btn-primary btn-sm" onclick="executeAction('escalate')">
                                                ‚úì Execute
                                            </button>
                                            <button class="btn btn-secondary btn-sm" onclick="modifyAction('escalate')">
                                                ‚úèÔ∏è Modify
                                            </button>
                                        </div>
                                    </div>

                                    <div class="llm-tile">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="trust-indicator trust-high">
                                                <span>ü§ñ</span>
                                                <span>94% Confidence</span>
                                            </div>
                                            <div class="badge badge-secondary">LOW</div>
                                        </div>
                                        <h4 class="text-foreground font-medium mb-2">üìù Document Interaction</h4>
                                        <p class="text-sm text-muted-foreground mb-3">Create detailed case notes and
                                            flag for future monitoring</p>
                                        <div class="flex space-x-2">
                                            <button class="btn btn-primary btn-sm" onclick="executeAction('document')">
                                                ‚úì Execute
                                            </button>
                                            <button class="btn btn-secondary btn-sm" onclick="modifyAction('document')">
                                                ‚úèÔ∏è Modify
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Center: Three-Way Conversation -->
                        <div class="lg:col-span-2">
                            <div class="card h-[600px] flex flex-col">
                                <div class="p-4 border-b border-border">
                                    <h3 class="text-lg font-semibold text-foreground">Three-Way Conversation</h3>
                                </div>

                                <div class="flex-1 overflow-y-auto p-6" id="chat-messages" role="log"
                                    aria-live="polite">
                                    <!-- Messages will be dynamically added here -->
                                </div>

                                <div class="p-4 border-t border-border">
                                    <div class="flex space-x-3">
                                        <textarea class="input flex-1 resize-none" rows="3"
                                            placeholder="Type your message to customer or ask AI..." id="chat-input"
                                            aria-describedby="chat-help"></textarea>
                                        <div class="flex flex-col space-y-2">
                                            <button class="btn btn-primary" onclick="sendMessage()"
                                                aria-label="Send message">
                                                üì§ Send
                                            </button>
                                            <button class="btn btn-secondary" onclick="askAI()"
                                                aria-label="Ask AI for help">
                                                ü§ñ Ask AI
                                            </button>
                                        </div>
                                    </div>
                                    <p id="chat-help" class="sr-only">Type your message or ask AI for assistance</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPhase = 'gathering';
        let isOnline = false;
        let currentCase = null;
        let aiConfidence = 97;

        // Auto-fill login and skip to dashboard
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(() => {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');
            }, 1000);
        });

        // Go Online functionality
        document.getElementById('go-online-btn').addEventListener('click', function () {
            if (!isOnline) {
                goOnline();
            } else {
                goOffline();
            }
        });

        function goOnline() {
            isOnline = true;
            const btn = document.getElementById('go-online-btn');
            const statusBadge = document.getElementById('status-badge');
            const statusText = document.getElementById('status-text');
            const welcomeText = document.getElementById('welcome-text');
            const statusDescription = document.getElementById('status-description');
            const aiCaseAssignment = document.getElementById('ai-case-assignment');
            const aiInsights = document.getElementById('ai-insights');

            // Update button
            btn.textContent = 'Go Offline';
            btn.classList.remove('btn-primary');
            btn.classList.add('btn-destructive');

            // Update status
            statusBadge.className = 'badge badge-success';
            statusText.textContent = 'Online';

            // Update welcome message
            welcomeText.textContent = 'You\'re online and ready for cases';
            statusDescription.textContent = 'AI is actively analyzing and assigning cases.';

            // Show AI-driven case assignment
            setTimeout(() => {
                aiCaseAssignment.classList.remove('hidden');
                aiInsights.classList.remove('hidden');
                generateAICases();
            }, 1000);
        }

        function goOffline() {
            isOnline = false;
            const btn = document.getElementById('go-online-btn');
            const statusBadge = document.getElementById('status-badge');
            const statusText = document.getElementById('status-text');
            const welcomeText = document.getElementById('welcome-text');
            const statusDescription = document.getElementById('status-description');
            const aiCaseAssignment = document.getElementById('ai-case-assignment');
            const aiInsights = document.getElementById('ai-insights');

            // Update button
            btn.textContent = 'Go Online';
            btn.classList.remove('btn-destructive');
            btn.classList.add('btn-primary');

            // Update status
            statusBadge.className = 'badge badge-secondary';
            statusText.textContent = 'Offline';

            // Update welcome message
            welcomeText.textContent = 'Welcome back, Alex';
            statusDescription.textContent = 'You\'re currently offline. Click "Go Online" to start receiving cases.';

            // Hide AI components
            aiCaseAssignment.classList.add('hidden');
            aiInsights.classList.add('hidden');
        }

        function generateAICases() {
            const container = document.getElementById('ai-generated-cases');

            const cases = [
                {
                    id: 'BTC-2891',
                    title: 'Potential Scam Detection',
                    customer: 'Robert Wilson',
                    priority: 'HIGH',
                    confidence: 97,
                    description: '$25,000 urgent BTC withdrawal - multiple red flags detected',
                    aiAnalysis: 'Scam pattern detected: urgency, trading partner mention, large withdrawal from new account'
                },
                {
                    id: 'BTC-2889',
                    title: 'Speed Upgrade Request',
                    customer: 'Marcus Chen',
                    priority: 'MEDIUM',
                    confidence: 92,
                    description: '0.15 BTC withdrawal - customer requesting faster processing',
                    aiAnalysis: 'Legitimate request: verified customer, reasonable amount, clear explanation'
                },
                {
                    id: 'BTC-2890',
                    title: 'Deposit Confirmation',
                    customer: 'Anna Liu',
                    priority: 'LOW',
                    confidence: 96,
                    description: '0.05 BTC deposit - customer seeking confirmation status',
                    aiAnalysis: 'Standard inquiry: verified customer, small amount, routine request'
                }
            ];

            cases.forEach(caseData => {
                const caseTile = createAICaseTile(caseData);
                container.appendChild(caseTile);
            });
        }

        function createAICaseTile(caseData) {
            const tile = document.createElement('div');
            tile.className = 'llm-tile cursor-pointer';
            tile.onclick = () => openCase(caseData.id);

            tile.innerHTML = `
                <div class="flex items-center justify-between mb-4">
                    <div class="badge badge-${caseData.priority === 'HIGH' ? 'destructive' : caseData.priority === 'MEDIUM' ? 'warning' : 'secondary'}">${caseData.priority}</div>
                    <div class="trust-indicator trust-${caseData.confidence > 95 ? 'high' : caseData.confidence > 85 ? 'medium' : 'low'}">
                        <span>ü§ñ</span>
                        <span>${caseData.confidence}% AI</span>
                    </div>
                </div>
                
                <div class="flex items-center space-x-3 mb-4">
                    <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground font-bold">${caseData.customer.split(' ').map(n => n[0]).join('')}</span>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-foreground">${caseData.id}</h3>
                        <p class="text-sm text-muted-foreground">${caseData.customer}</p>
                    </div>
                </div>
                
                <h4 class="text-foreground font-medium mb-2">${caseData.title}</h4>
                <p class="text-sm text-muted-foreground mb-3">${caseData.description}</p>
                
                <div class="ambient-ai">
                    <p class="text-sm"><strong>AI Analysis:</strong> ${caseData.aiAnalysis}</p>
                </div>
            `;

            return tile;
        }

        function openCase(caseId) {
            currentCase = caseId;

            // Update case details
            document.getElementById('case-title').textContent = caseId;
            document.getElementById('case-subtitle').textContent = 'Potential Scam Detection';
            document.getElementById('case-confidence').innerHTML = '<span>ü§ñ</span><span>97% AI</span>';
            document.getElementById('case-priority').textContent = 'HIGH PRIORITY';
            document.getElementById('customer-initials').textContent = 'RW';
            document.getElementById('customer-name').textContent = 'Robert Wilson';
            document.getElementById('customer-email').textContent = 'robert.wilson@email.com';

            // Show modal
            document.getElementById('case-modal').classList.remove('hidden');

            // Initialize conversation
            initializeConversation();
        }

        function closeCase() {
            document.getElementById('case-modal').classList.add('hidden');
            currentCase = null;
        }

        function initializeConversation() {
            const chatMessages = document.getElementById('chat-messages');
            chatMessages.innerHTML = '';

            // Add initial customer message
            addCustomerMessage("I need to withdraw $25,000 in Bitcoin urgently. My trading partner needs it for a time-sensitive investment opportunity. Please process this immediately!");

            // Add AI analysis
            setTimeout(() => {
                addAIAnalysis("üö® <strong>Scam detected:</strong> This matches pig butchering patterns. Customer shows urgency, mentions \"trading partner,\" and requests large withdrawal from new account.");
            }, 1000);

            // Add AI suggested response
            setTimeout(() => {
                addAISuggestedResponse("Hi Robert, I want to help protect you. I've noticed some patterns in your request that match common cryptocurrency scams. Before processing this withdrawal, let's discuss your situation to ensure your funds are safe. Can you tell me more about this trading partner and investment opportunity?");
            }, 2000);
        }

        function addCustomerMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-bubble customer slide-up';
            messageDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">C</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">Robert Wilson</span>
                    <span class="text-xs text-muted-foreground">4:28 PM</span>
                </div>
                <p class="text-sm">${message}</p>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addAIAnalysis(analysis) {
            const chatMessages = document.getElementById('chat-messages');
            const analysisDiv = document.createElement('div');
            analysisDiv.className = 'message-bubble ai slide-up';
            analysisDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-5 h-5 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">AI</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">AI Analysis</span>
                    <span class="text-xs text-muted-foreground">${aiConfidence}% confidence</span>
                </div>
                <p class="text-sm">${analysis}</p>
            `;
            chatMessages.appendChild(analysisDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addAISuggestedResponse(response) {
            const chatMessages = document.getElementById('chat-messages');
            const responseDiv = document.createElement('div');
            responseDiv.className = 'message-bubble ai slide-up';
            responseDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-5 h-5 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">AI</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">Suggested Response</span>
                </div>
                <p class="text-sm mb-3">"${response}"</p>
                <div class="flex space-x-2">
                    <button class="btn btn-primary btn-sm" onclick="approveResponse()">
                        ‚úì Send
                    </button>
                    <button class="btn btn-secondary btn-sm" onclick="editResponse()">
                        ‚úèÔ∏è Edit
                    </button>
                    <button class="btn btn-secondary btn-sm" onclick="rejectResponse()">
                        ‚úó Custom
                    </button>
                </div>
            `;
            chatMessages.appendChild(responseDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function approveResponse() {
            // Remove AI suggestion
            const suggestions = document.querySelectorAll('.message-bubble.ai');
            suggestions[suggestions.length - 1].remove();

            // Add advocate message
            addAdvocateMessage("Hi Robert, I want to help protect you. I've noticed some patterns in your request that match common cryptocurrency scams. Before processing this withdrawal, let's discuss your situation to ensure your funds are safe. Can you tell me more about this trading partner and investment opportunity?");

            // Simulate customer response
            setTimeout(() => {
                addCustomerMessage("What do you mean scam? This is a legitimate investment opportunity! My partner has made me $50,000 already and now we need to move quickly on this deal.");

                // Add ambient AI analysis
                setTimeout(() => {
                    addAIAnalysis("üîç <strong>Ambient Analysis:</strong> Customer's response confirms scam pattern. The mention of \"$50,000 already made\" is a classic \"pig butchering\" technique. Recommend maintaining withdrawal pause and continuing education.");
                }, 1000);
            }, 3000);
        }

        function addAdvocateMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message-bubble advocate slide-up';
            messageDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-6 h-6 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">A</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">Alex Morgan (You)</span>
                    <span class="text-xs text-muted-foreground">4:32 PM</span>
                </div>
                <p class="text-sm">${message}</p>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function sendMessage() {
            const messageText = document.getElementById('chat-input').value;
            if (!messageText.trim()) return;

            addAdvocateMessage(messageText);
            document.getElementById('chat-input').value = '';
        }

        function askAI() {
            const question = document.getElementById('chat-input').value;
            if (!question.trim()) {
                alert('Please type a question first, then click "Ask AI"');
                return;
            }

            // Clear the input
            document.getElementById('chat-input').value = '';

            // Show AI response
            const chatMessages = document.getElementById('chat-messages');
            const aiResponseDiv = document.createElement('div');
            aiResponseDiv.className = 'ai-driving slide-up';
            aiResponseDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-5 h-5 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">AI</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">AI Response to: "${question}"</span>
                </div>
                <div class="text-sm">
                    <p><strong>Analysis:</strong> Based on your question "${question}", here's what I found:</p>
                    <ul class="mt-2 space-y-1">
                        <li>‚Ä¢ This confirms the scam pattern detection</li>
                        <li>‚Ä¢ The customer's urgency is a classic red flag</li>
                        <li>‚Ä¢ Recommend maintaining the withdrawal pause</li>
                        <li>‚Ä¢ Continue with customer education approach</li>
                    </ul>
                    <p class="mt-2"><strong>Confidence:</strong> 94% - High confidence in scam detection</p>
                </div>
            `;
            chatMessages.appendChild(aiResponseDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function editResponse() {
            const newMessage = prompt('Edit the response:', 'Hi Robert, I want to help protect you...');
            if (newMessage) {
                const suggestionText = document.querySelector('.message-bubble.ai:last-child p');
                suggestionText.textContent = newMessage;
                alert('Response edited. Please review and approve.');
            }
        }

        function rejectResponse() {
            document.querySelector('.message-bubble.ai:last-child').remove();
            document.getElementById('chat-input').focus();
            alert('AI response rejected. Write your custom message below.');
        }

        function executeAction(action) {
            const actionMessages = {
                'protect': 'üõ°Ô∏è <strong>Customer Protection Activated:</strong> Withdrawal paused, fraud review initiated, customer education materials prepared.',
                'escalate': 'üìû <strong>Case Escalated:</strong> Senior advocate notified. Case transferred to fraud prevention team.',
                'document': 'üìù <strong>Interaction Documented:</strong> Case notes created, flagged for future monitoring, added to scam pattern database.'
            };

            addAIAction(actionMessages[action]);

            // Update progress
            document.getElementById('progress-fill').style.width = '70%';
            document.getElementById('progress-fill').className = 'bg-primary h-2 rounded-full transition-all duration-300';
        }

        function modifyAction(action) {
            const modifications = {
                'protect': 'Modify protection approach (e.g., different education materials, alternative review process)',
                'escalate': 'Modify escalation level (e.g., different senior advocate, specific team assignment)',
                'document': 'Modify documentation level (e.g., different note format, additional monitoring flags)'
            };

            const modification = prompt(`Modify ${action} action:`, modifications[action]);
            if (modification) {
                addAIAction(`‚úèÔ∏è <strong>Action Modified:</strong> ${modification}`);
            }
        }

        function addAIAction(action) {
            const chatMessages = document.getElementById('chat-messages');
            const actionDiv = document.createElement('div');
            actionDiv.className = 'ai-driving slide-up';
            actionDiv.innerHTML = `
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-5 h-5 bg-primary rounded-full flex items-center justify-center">
                        <span class="text-primary-foreground text-xs font-bold">AI</span>
                    </div>
                    <span class="text-xs font-bold text-foreground">AI Action Executed</span>
                </div>
                <p class="text-sm">${action}</p>
            `;
            chatMessages.appendChild(actionDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Close modal when clicking outside
        document.getElementById('case-modal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeCase();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function (e) {
            if (e.ctrlKey && e.key === 'Enter') {
                sendMessage();
            }
        });

        // Accessibility: Focus management
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                closeCase();
            }
        });
    </script>
</body>

</html>